<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SDGs æ€§åˆ¥å¹³æ¬Š-æƒ…å¢ƒé¡Œ</title>
<style>
  body {
    margin: 0;
    font-family: "å¾®è»Ÿæ­£é»‘é«”";
    background-image: url('fresh-grass-7461860_1280.jpg'); /* è‰åœ°èƒŒæ™¯ */
    background-size: cover;
    background-position: center;
    height: 100vh;
    overflow: hidden;
  }

  #title { position: absolute; top: 10px; left: 20px; font-size: 26px; color: white; font-weight: bold; text-shadow: 2px 2px 5px #000; }
  #score { position: absolute; top: 10px; right: 20px; font-size: 20px; color: white; font-weight: bold; text-shadow: 2px 2px 5px #000; }

  .flower { position: absolute; width: 80px; cursor: pointer; transition: transform 0.3s; }
  .flower:hover { transform: scale(1.1); }

  #game-area { position: relative; width: 100%; height: 100%; }

  .question-container { position: absolute; top: 15%; left: 50%; transform: translateX(-50%); background: rgba(255,255,255,0.9); border-radius: 15px; padding: 20px; text-align: center; width: 70%; display: none; }

  .drag-boxes { display: flex; justify-content: space-around; margin-top: 20px; }
  .dropzone { width: 40%; height: 150px; border: 3px dashed #4caf50; border-radius: 15px; background-color: rgba(255,255,255,0.6); font-weight: bold; color: #2e7d32; display: flex; align-items: center; justify-content: center; }
  .draggable { background: #f1faee; padding: 10px 15px; margin: 10px; border-radius: 8px; display: inline-block; cursor: grab; }

  #result { position: absolute; top: 45%; left: 50%; transform: translate(-50%, -50%); background: rgba(255,255,255,0.9); border-radius: 20px; padding: 40px; text-align: center; font-size: 24px; display: none; }
  #result button { margin-top: 20px; font-size: 18px; padding: 10px 20px; border-radius: 10px; background-color: #4caf50; color: white; border: none; cursor: pointer; }
  #result button:hover { background-color: #2e7d32; }
</style>
</head>
<body>
  <div id="title">SDGs æ€§åˆ¥å¹³æ¬Š - æƒ…å¢ƒé¡Œ</div>
  <div id="score">ç­”å°é¡Œæ•¸ï¼š<span id="scoreNum">0</span></div>
  <div id="game-area"></div>
  <div id="result"></div>

  <audio autoplay loop>
    <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_22f86ce92d.mp3" type="audio/mpeg">
  </audio>

  <script>
    const questions = [
      { items: ["é¼“å‹µå¥³ç”Ÿå­¸ç¨‹å¼è¨­è¨ˆ","èªç‚ºå¥³ç”Ÿä¸é©åˆç•¶å·¥ç¨‹å¸«"], correct: ["å¹³ç­‰","ä¸å¹³ç­‰"] },
      { items: ["çˆ¸çˆ¸å¹«å¿™ç…§é¡§å°å­©","åªè®“å¥³ç”Ÿæ´—ç¢—"], correct: ["å¹³ç­‰","ä¸å¹³ç­‰"] },
      { items: ["å…¬å¸ç”·å¥³åŒå·¥åŒé…¬","ç”·æ€§æ‰èƒ½å‡ä¸»ç®¡"], correct: ["å¹³ç­‰","ä¸å¹³ç­‰"] },
      { items: ["è®“å¥³ç”ŸåƒåŠ è¶³çƒéšŠ","èªç‚ºå¥³ç”Ÿä¸èƒ½è¸¢çƒ"], correct: ["å¹³ç­‰","ä¸å¹³ç­‰"] },
      { items: ["è€å¸«é¼“å‹µç”·å¥³å­¸ç”ŸåŒæ™‚ç™¼è¨€","åªè½ç”·ç”Ÿæ„è¦‹"], correct: ["å¹³ç­‰","ä¸å¹³ç­‰"] },
      { items: ["ç”·å¥³åŒæ¨£æ©ŸæœƒåƒåŠ ç§‘å­¸æ¯”è³½","å¥³ç”Ÿä¸è¢«å…è¨±åƒåŠ "], correct: ["å¹³ç­‰","ä¸å¹³ç­‰"] },
      { items: ["ç”·ç”Ÿå¥³ç”Ÿéƒ½å¯é¸ä¿®çƒ¹é£ªèª²","çƒ¹é£ªåªçµ¦å¥³ç”Ÿ"], correct: ["å¹³ç­‰","ä¸å¹³ç­‰"] },
      { items: ["çˆ¶æ¯æ”¯æŒå¥³ç”Ÿç¹¼çºŒå‡å­¸","èªç‚ºå¥³ç”Ÿæ‡‰æ—©é»çµå©š"], correct: ["å¹³ç­‰","ä¸å¹³ç­‰"] },
      { items: ["å…¬å¸æä¾›è‚²å¬°å‡çµ¦ç”·å¥³å“¡å·¥","åªæœ‰å¥³æ€§å“¡å·¥å¯ä¼‘è‚²å¬°å‡"], correct: ["å¹³ç­‰","ä¸å¹³ç­‰"] }
    ];

    const gameArea = document.getElementById('game-area');
    const scoreDisplay = document.getElementById('scoreNum');
    const resultBox = document.getElementById('result');
    let score = 0, answered = 0;

    const flowerImg = "https://cdn-icons-png.flaticon.com/512/616/616408.png";
    questions.forEach((q,i)=>{
      const flower = document.createElement('img');
      flower.src = flowerImg;
      flower.className = 'flower';
      flower.style.left = Math.random()*80+"%";
      flower.style.top = (60+Math.random()*30)+"%";
      flower.onclick = () => showQuestion(i,flower);
      gameArea.appendChild(flower);
    });

    function showQuestion(index, flower){
      flower.style.display = "none";
      const q = questions[index];

      const container = document.createElement('div');
      container.className = 'question-container';
      container.innerHTML = `
        <h2>è«‹å°‡èªå¥æ‹–é€²æ­£ç¢ºçš„æ¡†ä¸­</h2>
        <div>
          ${q.items.map((item,i)=>`<div class="draggable" draggable="true" data-index="${i}">${item}</div>`).join('')}
        </div>
        <div class="drag-boxes">
          <div class="dropzone" data-zone="å¹³ç­‰">æ€§åˆ¥å¹³ç­‰</div>
          <div class="dropzone" data-zone="ä¸å¹³ç­‰">æ€§åˆ¥ä¸å¹³ç­‰</div>
        </div>
      `;
      gameArea.appendChild(container);
      container.style.display = 'block';

      const draggables = container.querySelectorAll('.draggable');
      const dropzones = container.querySelectorAll('.dropzone');
      draggables.forEach(d=>{
        d.ondragstart = e => e.dataTransfer.setData("text", d.dataset.index);
      });
      dropzones.forEach(zone=>{
        zone.ondragover = e=>e.preventDefault();
        zone.ondrop = e=>{
          e.preventDefault();
          const idx = e.dataTransfer.getData("text");
          const correctAns = q.correct[idx];
          if(zone.dataset.zone === correctAns) score++;
          answered++;
          scoreDisplay.textContent = score;
          container.remove();
          if(answered >= questions.length) showResult();
        };
      });
    }

    function showResult(){
      let level="";
      if(score <=3) level="å†åŠ æ²¹ ğŸ’ª";
      else if(score<=6) level="é€²æ­¥ä¸­ ğŸŒ±";
      else level="å¹³æ¬Šé”äºº ğŸŒŸ";

      let btn="";
      if(level==="å¹³æ¬Šé”äºº ğŸŒŸ"){
        btn=`<button onclick="location.href='certificate.html'">ä¸‹è¼‰å­¸ç¿’è­‰æ›¸</button>`;
      }else{
        btn=`<button onclick="location.reload()">å†æ¬¡æŒ‘æˆ°</button>`;
      }

      resultBox.innerHTML = `<h2>ä½ çš„ç­‰ç´šï¼š${level}</h2><p>ç¸½ç­”å°é¡Œæ•¸ï¼š${score}</p>${btn}`;
      resultBox.style.display='block';
    }
  </script>
</body>
</html>
